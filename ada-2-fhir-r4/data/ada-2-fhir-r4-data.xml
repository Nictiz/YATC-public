<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../sch/ada-2-fhir-r4-data.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<ada-2-fhir-r4-data xmlns="https://nictiz.nl/ns/YATC-public" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://nictiz.nl/ns/YATC-public ../xsd/ada-2-fhir-r4-data.xsd">
    <!-- ================================================================== -->
    <!--
        This is the production data for the ada-2-fhir-r4 processing.
        
        Information about the format of this document in its schema ../xsd/ada-2-fhir-r4-data.xsd
        Information about how this file is used in the documentation in the ../doc/ subdirectory.
    -->
    <!-- ================================================================== -->
    <!-- lab -->

    <application name="lab" version="3.0.0" source-adarefs2ada="true" source-project-name="lab">

        <setup usecase="sturen_laboratoriumresultaten" directory-id="labsr">
            <copy-data source-subdir="ada_instance" directory-id="labsr-instance">
                <include glob="*.xml"/>
            </copy-data>
            <copy-project-schemas>
                <include glob="*$USECASE.xsd"/>
            </copy-project-schemas>
            <empty-directory target-subdir="fhir_instance" directory-id="labsr-fhir-instance"/>
        </setup>

        <setup usecase="beschikbaarstellen_laboratoriumresultaten" directory-id="labbr">
            <copy-data source-subdir="ada_instance" directory-id="labbr-instance">
                <include glob="*.xml"/>
            </copy-data>
            <copy-project-schemas>
                <include glob="*$USECASE.xsd"/>
            </copy-project-schemas>
            <empty-directory target-subdir="fhir_instance" directory-id="labbr-fhir-instance"/>
        </setup>
        
        <action name="convert" default="true">
            
            <build>
                <stylesheet href="../xsl/lab/3.0.0/sturen_laboratoriumresultaten/payload/sturen_laboratoriumresultaten.xsl"/>
                <input-documents directory="@labsr-instance"></input-documents>
                <output-documents directory="@labsr-fhir-instance"/>                
                <parameter name="writeOutputToDisk" value="false"/>
                <parameter name="dirOutputToDisk" directory="@labsr-fhir-instance"/>
            </build>
            
            <build>
                <stylesheet href="../xsl/lab/3.0.0/beschikbaarstellen_laboratoriumresultaten/payload/beschikbaarstellen_laboratoriumresultaten.xsl"/>
                <input-documents directory="@labbr-instance"></input-documents>
                <output-documents directory="@labbr-fhir-instance"/> 
                <parameter name="writeOutputToDisk" value="true"/>
                <parameter name="dirOutputToDisk" directory="@labbr-fhir-instance"/>
            </build>
            
        </action>
        
    </application>

</ada-2-fhir-r4-data>
